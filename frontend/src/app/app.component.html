<div class="app-container">
  <!-- Test Connection -->
  <div class="connection-test" *ngIf="showTest">
    <h2>🔧 Connection Test</h2>
    <div class="test-result">
      <p>Backend Status: <span [ngClass]="backendStatus.class">{{backendStatus.text}}</span></p>
      <p>Users Count: <strong>{{usersCount}}</strong></p>
      <p>Shops Count: <strong>{{shopsCount}}</strong></p>
      <p>Channels Count: <strong>{{channelsCount}}</strong></p>
    </div>
    <button (click)="hideTest()">✅ Continue to Dashboard</button>
  </div>

  <!-- Admin Dashboard Layout -->
  <div class="admin-layout" *ngIf="!showTest">
    <!-- Header -->
    <header class="admin-header">
      <div class="header-content">
        <div class="logo">
          <h1>🎯 TikTok Team Admin</h1>
        </div>
        <div class="header-actions">
          <div class="user-info">
            <span class="user-name">Admin User</span>
            <div class="user-avatar">A</div>
          </div>
        </div>
      </div>
    </header>

    <!-- Main Container -->
    <div class="admin-container">
      <!-- Sidebar -->
      <nav class="admin-sidebar">
        <div class="sidebar-content">
          <ul class="nav-menu">
            <li class="nav-item">
              <a (click)="setActiveSection('dashboard')" 
                 [class.active]="activeSection === 'dashboard'" 
                 class="nav-link">
                <span class="nav-icon">📊</span>
                <span class="nav-text">Dashboard</span>
              </a>
            </li>
            <li class="nav-item">
              <a (click)="setActiveSection('users')" 
                 [class.active]="activeSection === 'users'" 
                 class="nav-link">
                <span class="nav-icon">👥</span>
                <span class="nav-text">Users</span>
              </a>
            </li>
            <li class="nav-item">
              <a (click)="setActiveSection('shops')" 
                 [class.active]="activeSection === 'shops'" 
                 class="nav-link">
                <span class="nav-icon">🏪</span>
                <span class="nav-text">Shops</span>
              </a>
            </li>
            <li class="nav-item">
              <a (click)="setActiveSection('channels')" 
                 [class.active]="activeSection === 'channels'" 
                 class="nav-link">
                <span class="nav-icon">📺</span>
                <span class="nav-text">Channels</span>
              </a>
            </li>
          </ul>
        </div>
      </nav>

      <!-- Main Content -->
      <main class="admin-main">
        <div class="main-content">
          <!-- Dashboard Overview -->
          <div *ngIf="activeSection === 'dashboard'" class="dashboard-section">
            <app-admin-dashboard></app-admin-dashboard>
          </div>

          <!-- Users Management -->
          <div *ngIf="activeSection === 'users'" class="users-section">
            <app-admin-users></app-admin-users>
          </div>

          <!-- Shops Management -->
          <div *ngIf="activeSection === 'shops'" class="shops-section">
            <app-admin-shops></app-admin-shops>
          </div>

          <!-- Channels Management -->
          <div *ngIf="activeSection === 'channels'" class="channels-section">
            <app-admin-channels></app-admin-channels>
          </div>
        </div>
      </main>

      <!-- Float Button (only show in admin dashboard) -->
      <app-float-button *ngIf="!showTest"></app-float-button>

      <!-- Task Forms -->
      <app-support-task-form></app-support-task-form>
      <app-media-task-form></app-media-task-form>
    </div>
  </div>

  <!-- Router Outlet for navigation to other pages -->
  <router-outlet></router-outlet>
</div>
